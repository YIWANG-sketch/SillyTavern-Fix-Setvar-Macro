<div class="fix-setvar-macro-settings">
  <div class="inline-drawer">
    <div class="inline-drawer-toggle inline-drawer-header">
      <b>Fix Setvar Macro</b>
      <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
    </div>
    <div class="inline-drawer-content">
      <div class="flex-container flexFlowColumn">
        <label class="checkbox_label fsm-main-toggle" for="fix_setvar_enabled">
          <input id="fix_setvar_enabled" type="checkbox" class="checkbox" />
          <span>启用自动修复</span>
          <i class="fa-solid fa-info-circle" title="使用占位符替换方案修复 setvar 宏中的管道符 | 字符"></i>
        </label>

        <div class="fsm-info-card">
          <div class="fsm-info-header">
            <i class="fa-solid fa-lightbulb"></i>
            <span>工作原理</span>
          </div>
          <div class="fsm-info-content">
            <p><strong>PreProcessor：</strong>将 <code>|</code> 替换为占位符</p>
            <p><strong>PostProcessor：</strong>将占位符还原为 <code>|</code></p>
            <p class="fsm-info-note">用户无需手动转义，扩展自动处理</p>
          </div>
        </div>

        <div class="fsm-debug-section">
          <div class="fsm-section-header">
            <i class="fa-solid fa-bug"></i>
            <span>调试模式</span>
          </div>
          <label class="checkbox_label" for="fix_setvar_debug">
            <input id="fix_setvar_debug" type="checkbox" class="checkbox" />
            <span>启用详细日志</span>
            <i class="fa-solid fa-info-circle" title="在控制台输出详细的处理日志"></i>
          </label>
          <div class="fsm-debug-hint">
            <small>控制台筛选：</small>
            <code class="fsm-filter-code">FSM:DEBUG</code>
          </div>
        </div>

        <div class="fsm-macros-list">
          <div class="fsm-section-header">
            <i class="fa-solid fa-list-check"></i>
            <span>支持的宏</span>
          </div>
          <div class="fsm-macro-items">
            <code>{{setvar::...}}</code>
            <code>{{setglobalvar::...}}</code>
            <code>{{addvar::...}}</code>
            <code>{{addglobalvar::...}}</code>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>